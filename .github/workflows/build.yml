- name: Validar mensajes de commits
  shell: bash  # âš ï¸ Se ejecuta en Bash para evitar errores en PowerShell
  run: |
    COMMIT_MSG=$(git log --format=%B -n 1 | tr -d '\n' | tr -d '\r')  # Elimina saltos de lÃ­nea
    echo "ğŸ“ Ãšltimo commit: '$COMMIT_MSG'"
    
    # Si el commit es un "Merge", se omite la validaciÃ³n
    if [[ "$COMMIT_MSG" =~ ^Merge\ .* ]]; then
      echo "ğŸ”„ Merge commit detectado. Omitiendo validaciÃ³n."
      exit 0
    fi

    # Validar commits normales
    if [[ "$COMMIT_MSG" =~ ^(feat|fix|chore|docs|test):\ .* ]]; then
      echo "âœ… Commit message vÃ¡lido"
    else
      echo "âŒ Commit message invÃ¡lido. Debe comenzar con 'feat:', 'fix:', 'chore:', 'docs:', 'test:'"
      exit 1
    fi
